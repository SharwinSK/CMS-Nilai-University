<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Event Proposal - Coordinator View</title>
    <style>
      :root {
        --primary-color: #0abab5;
        --secondary-color: #56dfcf;
        --tertiary-color: #adeed9;
        --accent-color: #ffedf3;
        --dark-bg: #2c3e50;
        --text-dark: #333;
      }

      body {
        background: linear-gradient(
          135deg,
          var(--tertiary-color) 0%,
          var(--accent-color) 100%
        );
        min-height: 100vh;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--secondary-color)
        );
        color: white;
        padding: 20px;
        text-align: center;
        position: relative;
      }

      .header h1 {
        margin: 0;
        font-size: 2rem;
      }

      .back-btn {
        position: absolute;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        background: #ff6b6b;
        border: none;
        color: white;
        padding: 10px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 1.2rem;
        transition: background 0.3s ease;
      }

      .back-btn:hover {
        background: #ff5252;
      }

      .export-btn {
        position: absolute;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        background: #4caf50;
        border: none;
        color: white;
        padding: 10px 15px;
        border-radius: 5px;
        cursor: pointer;
        transition: background 0.3s ease;
      }

      .export-btn:hover {
        background: #45a049;
      }

      .content {
        padding: 30px;
      }

      .poster-section {
        text-align: center;
        margin-bottom: 30px;
      }

      .poster {
        max-width: 300px;
        max-height: 400px;
        border: 3px solid var(--primary-color);
        border-radius: 10px;
        cursor: pointer;
        transition: transform 0.3s ease;
      }

      .poster:hover {
        transform: scale(1.05);
      }

      .section {
        background: #f8f9fa;
        margin: 20px 0;
        padding: 25px;
        border-radius: 10px;
        border-left: 5px solid var(--primary-color);
      }

      .section h2 {
        color: var(--primary-color);
        margin-top: 0;
        font-size: 1.5rem;
        border-bottom: 2px solid var(--tertiary-color);
        padding-bottom: 10px;
      }

      .detail-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 15px;
        margin-top: 20px;
      }

      .detail-item {
        background: white;
        padding: 15px;
        border-radius: 8px;
        border: 1px solid #e0e0e0;
      }

      .detail-label {
        font-weight: bold;
        color: var(--text-dark);
        margin-bottom: 5px;
      }

      .detail-value {
        color: #666;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
        background: white;
        border-radius: 8px;
        overflow: hidden;
      }

      th,
      td {
        padding: 12px;
        text-align: left;
        border-bottom: 1px solid #e0e0e0;
      }

      th {
        background: var(--primary-color);
        color: white;
        font-weight: 600;
      }

      tr:hover {
        background: #f5f5f5;
      }

      .view-btn {
        background: var(--secondary-color);
        color: white;
        border: none;
        padding: 5px 10px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 0.9rem;
        text-decoration: none;
        display: inline-block;
      }

      .view-btn:hover {
        background: var(--primary-color);
      }

      .budget-summary {
        background: white;
        padding: 20px;
        border-radius: 8px;
        margin-top: 15px;
      }

      .budget-row {
        display: flex;
        justify-content: space-between;
        padding: 10px 0;
        border-bottom: 1px solid #e0e0e0;
      }

      .budget-row.total {
        font-weight: bold;
        color: var(--primary-color);
        border-bottom: 2px solid var(--primary-color);
      }

      .action-section {
        background: white;
        padding: 25px;
        margin: 20px 0;
        border-radius: 10px;
        border: 2px solid var(--primary-color);
      }

      .dropdown {
        width: 100%;
        padding: 12px;
        border: 2px solid var(--tertiary-color);
        border-radius: 8px;
        margin: 10px 0;
        font-size: 1rem;
      }

      .button-group {
        display: flex;
        gap: 15px;
        margin-top: 20px;
        justify-content: center;
      }

      .checkbox-container {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 15px;
        padding: 10px;
        background: white;
        border-radius: 8px;
        border: 1px solid #e0e0e0;
      }

      .section-checkbox {
        width: 20px;
        height: 20px;
        accent-color: var(--primary-color);
      }

      .checkbox-label {
        font-weight: 600;
        color: var(--text-dark);
        cursor: pointer;
      }

      .approve-btn:disabled {
        background: #cccccc;
        cursor: not-allowed;
      }

      .approve-btn {
        background: #28a745;
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1.1rem;
        font-weight: 600;
      }

      .reject-btn {
        background: #dc3545;
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1.1rem;
        font-weight: 600;
      }
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 1000;
        justify-content: center;
        align-items: center;
      }

      .modal-content {
        background: white;
        padding: 30px;
        border-radius: 15px;
        max-width: 600px;
        width: 90%;
        position: relative;
        max-height: 80vh;
        overflow-y: auto;
      }

      .reject-modal-content {
        background: white;
        padding: 30px;
        border-radius: 15px;
        max-width: 500px;
        width: 90%;
        position: relative;
      }

      .modal-content img {
        width: 100%;
        height: auto;
        border-radius: 10px;
      }

      .close {
        position: absolute;
        top: 15px;
        right: 20px;
        font-size: 2rem;
        cursor: pointer;
        color: #666;
      }

      .feedback-textarea {
        width: 100%;
        height: 120px;
        padding: 15px;
        border: 2px solid var(--tertiary-color);
        border-radius: 8px;
        resize: vertical;
        margin: 15px 0;
      }

      .submit-feedback {
        background: var(--primary-color);
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 8px;
        cursor: pointer;
        width: 100%;
      }

      .success-message {
        text-align: center;
        color: #28a745;
        font-size: 1.2rem;
        font-weight: 600;
      }

      @media (max-width: 768px) {
        .detail-grid {
          grid-template-columns: 1fr;
        }

        .button-group {
          flex-direction: column;
        }

        .header h1 {
          font-size: 1.5rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <button class="back-btn" onclick="goBack()">‚Üê</button>
        <h1>Event Proposal Review</h1>
        <button class="export-btn" onclick="exportPDF()">üìÑ Export PDF</button>
      </div>

      <div class="content">
        <!-- Poster Section -->
        <div class="poster-section">
          <img
            src="https://via.placeholder.com/300x400/0abab5/ffffff?text=Event+Poster"
            alt="Event Poster"
            class="poster"
            onclick="openPosterModal()"
          />
          <p><small>Click poster to view full size</small></p>
        </div>

        <!-- Event Details Section -->
        <div class="section">
          <div class="checkbox-container">
            <input
              type="checkbox"
              id="eventDetailsCheck"
              class="section-checkbox"
              onchange="updateApprovalStatus()"
            />
            <label for="eventDetailsCheck" class="checkbox-label"
              >‚úì Event Details Verified</label
            >
          </div>
          <h2>üìã Event Details</h2>
          <div class="detail-grid">
            <div class="detail-item">
              <div class="detail-label">Event ID</div>
              <div class="detail-value">EVT-2025-001</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">Student Name</div>
              <div class="detail-value">Ahmad Rizal bin Abdullah</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">Student ID</div>
              <div class="detail-value">N2024567890</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">Club Name</div>
              <div class="detail-value">Computer Science Society</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">Event Name</div>
              <div class="detail-value">Tech Innovation Workshop 2025</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">Event Nature</div>
              <div class="detail-value">Educational Workshop</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">Event Objectives</div>
              <div class="detail-value">
                To enhance students' understanding of emerging technologies and
                promote innovation in computer science.
              </div>
            </div>
            <div class="detail-item">
              <div class="detail-label">Event Introduction</div>
              <div class="detail-value">
                This workshop aims to bring together students and industry
                experts to explore the latest trends in technology.
              </div>
            </div>
            <div class="detail-item">
              <div class="detail-label">Event Details</div>
              <div class="detail-value">
                A full-day workshop featuring keynote speakers, hands-on
                sessions, and networking opportunities.
              </div>
            </div>
            <div class="detail-item">
              <div class="detail-label">Event Participants</div>
              <div class="detail-value">
                150 students and 10 industry professionals
              </div>
            </div>
            <div class="detail-item">
              <div class="detail-label">Venue</div>
              <div class="detail-value">Nilai University Main Auditorium</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">Event Date</div>
              <div class="detail-value">March 15, 2025</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">Start Time</div>
              <div class="detail-value">9:00 AM</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">End Time</div>
              <div class="detail-value">5:00 PM</div>
            </div>
          </div>
        </div>

        <!-- Person in Charge Section -->
        <div class="section">
          <div class="checkbox-container">
            <input
              type="checkbox"
              id="personInChargeCheck"
              class="section-checkbox"
              onchange="updateApprovalStatus()"
            />
            <label for="personInChargeCheck" class="checkbox-label"
              >‚úì Person in Charge Information Verified</label
            >
          </div>
          <h2>üë§ Person in Charge</h2>
          <div class="detail-grid">
            <div class="detail-item">
              <div class="detail-label">Name</div>
              <div class="detail-value">Sarah binti Hassan</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">ID</div>
              <div class="detail-value">N2023123456</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">Phone Number</div>
              <div class="detail-value">+60 12-345 6789</div>
            </div>
          </div>
        </div>

        <!-- Event Flow/Minutes Section -->
        <div class="section">
          <div class="checkbox-container">
            <input
              type="checkbox"
              id="eventFlowCheck"
              class="section-checkbox"
              onchange="updateApprovalStatus()"
            />
            <label for="eventFlowCheck" class="checkbox-label"
              >‚úì Event Flow/Minutes Approved</label
            >
          </div>
          <h2>üìù Event Flow/Minutes</h2>
          <table>
            <thead>
              <tr>
                <th>Date</th>
                <th>Start Time</th>
                <th>End Time</th>
                <th>Hours</th>
                <th>Activity</th>
                <th>Remarks/Meeting Minutes</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>March 15, 2025</td>
                <td>9:00 AM</td>
                <td>10:30 AM</td>
                <td>1.5</td>
                <td>Registration & Welcome</td>
                <td>All participants registered successfully</td>
              </tr>
              <tr>
                <td>March 15, 2025</td>
                <td>10:30 AM</td>
                <td>12:00 PM</td>
                <td>1.5</td>
                <td>Keynote Speech</td>
                <td>Industry expert presentation on AI trends</td>
              </tr>
              <tr>
                <td>March 15, 2025</td>
                <td>1:00 PM</td>
                <td>3:00 PM</td>
                <td>2</td>
                <td>Hands-on Workshop</td>
                <td>Interactive coding session</td>
              </tr>
              <tr>
                <td>March 15, 2025</td>
                <td>3:30 PM</td>
                <td>5:00 PM</td>
                <td>1.5</td>
                <td>Networking Session</td>
                <td>Students connected with professionals</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Committee Members Section -->
        <div class="section">
          <div class="checkbox-container">
            <input
              type="checkbox"
              id="committeeCheck"
              class="section-checkbox"
              onchange="updateApprovalStatus()"
            />
            <label for="committeeCheck" class="checkbox-label"
              >‚úì Committee Members Approved</label
            >
          </div>
          <h2>üë• Committee Members</h2>
          <table>
            <thead>
              <tr>
                <th>Name</th>
                <th>Position</th>
                <th>Department</th>
                <th>Phone</th>
                <th>Job Scope</th>
                <th>Cocu Claimers</th>
                <th>Cocu Statement</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Ahmad bin Ali</td>
                <td>Chairman</td>
                <td>Computer Science</td>
                <td>+60 12-111 2222</td>
                <td>Overall coordination</td>
                <td>Yes</td>
                <td>
                  <a href="cocu_statement.php?member=Ahmad" class="view-btn"
                    >View</a
                  >
                </td>
              </tr>
              <tr>
                <td>Siti Aminah</td>
                <td>Secretary</td>
                <td>Information Technology</td>
                <td>+60 12-333 4444</td>
                <td>Documentation & minutes</td>
                <td>Yes</td>
                <td>
                  <a href="cocu_statement.php?member=Siti" class="view-btn"
                    >View</a
                  >
                </td>
              </tr>
              <tr>
                <td>Raj Kumar</td>
                <td>Treasurer</td>
                <td>Computer Science</td>
                <td>+60 12-555 6666</td>
                <td>Budget management</td>
                <td>No</td>
                <td>-</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Budget Section -->
        <div class="section">
          <div class="checkbox-container">
            <input
              type="checkbox"
              id="budgetCheck"
              class="section-checkbox"
              onchange="updateApprovalStatus()"
            />
            <label for="budgetCheck" class="checkbox-label"
              >‚úì Budget Approved</label
            >
          </div>
          <h2>üí∞ Budget</h2>
          <table>
            <thead>
              <tr>
                <th>Description</th>
                <th>Amount (RM)</th>
                <th>Income/Expenses</th>
                <th>Remarks</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Registration Fees</td>
                <td>3,000.00</td>
                <td>Income</td>
                <td>150 participants √ó RM20</td>
              </tr>
              <tr>
                <td>Venue Rental</td>
                <td>500.00</td>
                <td>Expenses</td>
                <td>Main Auditorium</td>
              </tr>
              <tr>
                <td>Speaker Fees</td>
                <td>1,500.00</td>
                <td>Expenses</td>
                <td>2 keynote speakers</td>
              </tr>
              <tr>
                <td>Refreshments</td>
                <td>800.00</td>
                <td>Expenses</td>
                <td>Tea breaks and lunch</td>
              </tr>
              <tr>
                <td>Materials & Equipment</td>
                <td>300.00</td>
                <td>Expenses</td>
                <td>Workshop materials</td>
              </tr>
            </tbody>
          </table>

          <div class="budget-summary">
            <div class="budget-row">
              <span>Total Income:</span>
              <span>RM 3,000.00</span>
            </div>
            <div class="budget-row">
              <span>Total Expenses:</span>
              <span>RM 3,100.00</span>
            </div>
            <div class="budget-row total">
              <span>Surplus/Deficit:</span>
              <span>RM -100.00 (Deficit)</span>
            </div>
            <div class="budget-row">
              <span>Prepared by:</span>
              <span>Raj Kumar (Treasurer)</span>
            </div>
          </div>
        </div>

        <!-- Additional Information Section -->
        <div class="section">
          <div class="checkbox-container">
            <input
              type="checkbox"
              id="additionalInfoCheck"
              class="section-checkbox"
              onchange="updateApprovalStatus()"
            />
            <label for="additionalInfoCheck" class="checkbox-label"
              >‚úì Additional Information Verified</label
            >
          </div>
          <h2>üìå Additional Information</h2>
          <div class="detail-grid">
            <div class="detail-item">
              <div class="detail-label">Alternative Venue</div>
              <div class="detail-value">
                Computer Lab Block A (if main auditorium unavailable)
              </div>
            </div>
            <div class="detail-item">
              <div class="detail-label">Alternative Date</div>
              <div class="detail-value">March 22, 2025</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">Additional Document</div>
              <div class="detail-value">
                <a
                  href="documents/Event_Proposal_Details.pdf"
                  style="color: var(--primary-color)"
                  target="_blank"
                  >üìÑ Event_Proposal_Details.pdf</a
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Action Section -->
        <div class="action-section">
          <h2 style="color: var(--primary-color); text-align: center">
            üìã Review Action
          </h2>

          <label
            for="eventType"
            style="font-weight: bold; color: var(--text-dark)"
            >Select Event Type:</label
          >
          <select id="eventType" class="dropdown">
            <option value="">Please select event type</option>
            <option value="USR">USR (University Social Responsibility)</option>
            <option value="SDG">SDG (Sustainable Development Goals)</option>
            <option value="CSR">CSR (Corporate Social Responsibility)</option>
          </select>

          <div class="button-group">
            <button
              id="approveBtn"
              class="approve-btn"
              onclick="approveEvent()"
              disabled
            >
              ‚úÖ Approve
            </button>
            <button class="reject-btn" onclick="rejectEvent()">
              ‚ùå Reject
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Poster Modal -->
    <div id="posterModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closePosterModal()">&times;</span>
        <img
          src="https://via.placeholder.com/600x800/0abab5/ffffff?text=Event+Poster+Full+Size"
          alt="Event Poster Full Size"
        />
      </div>
    </div>

    <!-- Reject Feedback Modal -->
    <div id="rejectModal" class="modal">
      <div class="reject-modal-content">
        <span class="close" onclick="closeRejectModal()">&times;</span>
        <h3 style="color: var(--primary-color); text-align: center">
          Rejection Feedback
        </h3>
        <p>Please provide feedback for the rejection:</p>
        <textarea
          id="feedbackText"
          class="feedback-textarea"
          placeholder="Enter your feedback here..."
        ></textarea>
        <button class="submit-feedback" onclick="submitFeedback()">
          Submit Feedback
        </button>
      </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeSuccessModal()">&times;</span>
        <div class="success-message">
          <h3>‚úÖ Event Approved Successfully!</h3>
          <p>
            Thank you for approving the event. The organizers have been
            notified.
          </p>
        </div>
      </div>
    </div>

    <script>
      // Poster Modal Functions
      function openPosterModal() {
        document.getElementById("posterModal").style.display = "flex";
      }

      function closePosterModal() {
        document.getElementById("posterModal").style.display = "none";
      }

      // Update approval button status based on checkboxes
      function updateApprovalStatus() {
        const checkboxes = document.querySelectorAll(".section-checkbox");
        const approveBtn = document.getElementById("approveBtn");

        let allChecked = true;
        checkboxes.forEach((checkbox) => {
          if (!checkbox.checked) {
            allChecked = false;
          }
        });

        approveBtn.disabled = !allChecked;
        if (allChecked) {
          approveBtn.style.background = "#28a745";
          approveBtn.style.cursor = "pointer";
        } else {
          approveBtn.style.background = "#cccccc";
          approveBtn.style.cursor = "not-allowed";
        }
      }

      // Reject Modal Functions
      function rejectEvent() {
        const eventType = document.getElementById("eventType").value;
        if (!eventType) {
          alert("Please select an event type first!");
          return;
        }
        document.getElementById("rejectModal").style.display = "flex";
      }

      function closeRejectModal() {
        document.getElementById("rejectModal").style.display = "none";
      }

      function submitFeedback() {
        const feedback = document.getElementById("feedbackText").value.trim();
        if (!feedback) {
          alert("Please enter your feedback!");
          return;
        }

        // Here you would typically send the feedback to your PHP backend
        alert(
          "Feedback submitted successfully! The organizers have been notified."
        );
        closeRejectModal();
      }

      // Approve Event Function
      function approveEvent() {
        const eventType = document.getElementById("eventType").value;
        if (!eventType) {
          alert("Please select an event type first!");
          return;
        }

        const approveBtn = document.getElementById("approveBtn");
        if (approveBtn.disabled) {
          alert(
            "Please verify all sections by checking the boxes before approving!"
          );
          return;
        }

        // Here you would typically send approval to your PHP backend
        document.getElementById("successModal").style.display = "flex";
      }

      function closeSuccessModal() {
        document.getElementById("successModal").style.display = "none";
      }

      // Utility Functions
      function goBack() {
        // Here you would typically navigate back to the previous page
        if (
          confirm(
            "Are you sure you want to go back? Any unsaved changes will be lost."
          )
        ) {
          window.history.back();
        }
      }

      function exportPDF() {
        // Here you would typically call your PHP script to generate PDF
        alert(
          "PDF export functionality will be implemented with your PHP backend."
        );
      }

      // Close modals when clicking outside
      window.onclick = function (event) {
        const modals = document.querySelectorAll(".modal");
        modals.forEach((modal) => {
          if (event.target === modal) {
            modal.style.display = "none";
          }
        });
      };
    </script>
  </body>
</html>
